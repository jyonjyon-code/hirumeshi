<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>ã‚†ã†ã¯ã‚“ãªã«ã—ã‚ˆ</title>
    <style>
        /* é…è‰²ã‚’æ˜ã‚‹ã„ãƒã‚¤ãƒ“ãƒ¼ ï¼† æ¸©ã‹ã„ã‚ªãƒ¬ãƒ³ã‚¸ã«å¤‰æ›´ */
        body { font-family: 'Hiragino Kaku Gothic ProN', sans-serif; text-align: center; background: #eceff1; padding: 20px; color: #333; margin: 0; }
        
        .card { background: #ffffff; padding: 30px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); display: inline-block; width: 90%; max-width: 380px; border: 4px solid #f39c12; margin-top: 20px; box-sizing: border-box; }
        
        h2 { color: #f39c12; margin-bottom: 20px; font-size: 26px; letter-spacing: 2px; }
        
        /* ã‚¹ãƒ­ãƒƒãƒˆéƒ¨åˆ†ã‚’å°‘ã—æ˜ã‚‹ã„ãƒ–ãƒ«ãƒ¼ã« */
        #slot-display { font-size: 80px; margin: 20px 0; min-height: 120px; display: flex; align-items: center; justify-content: center; background: #fff9f0; border-radius: 15px; border: 2px solid #f39c12; }
        
        .mode-selector { margin-bottom: 25px; display: flex; justify-content: center; gap: 5px; }
        .mode-btn { border: 2px solid #f39c12; padding: 10px 5px; cursor: pointer; background: white; border-radius: 15px; font-size: 12px; color: #f39c12; font-weight: bold; flex: 1; transition: 0.3s; }
        .active-mode { background: #f39c12; color: white; }
        
        #result-area { display: none; background: #fffcf0; border: 2px dashed #f39c12; padding: 20px; border-radius: 15px; margin-top: 20px; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .btn { color: white; border: none; padding: 15px 25px; border-radius: 50px; cursor: pointer; font-weight: bold; text-decoration: none; display: inline-block; margin-top: 15px; font-size: 16px; width: 100%; box-sizing: border-box; }
        
        /* ãƒœã‚¿ãƒ³ã®è‰²å‘³ã‚’èª¿æ•´ */
        .btn-action { background: #e67e22; } /* ã‚ªãƒ¬ãƒ³ã‚¸ */
        .btn-rakuten { background: #bf0000; } /* æ¥½å¤©ãƒ¬ãƒƒãƒ‰ */
        .btn-search { background: #3498db; } /* ãƒ–ãƒ«ãƒ¼ */
        .btn-retry { background: #95a5a6; font-size: 14px; padding: 10px; }
        .btn-back { background: #888; color: white; border: none; padding: 10px 20px; border-radius: 50px; cursor: pointer; font-weight: bold; text-decoration: none; display: inline-block; margin-top: 25px; font-size: 14px; }

        #hint { font-size: 14px; color: #7f8c8d; margin-top: 10px; }
    </style>
</head>
<body>
    
<div class="card">
    <h2>ã‚†ã†ã¯ã‚“ãªã«ã—ã‚ˆ</h2>
    <div class="mode-selector">
        <button id="cook-btn" class="mode-btn active-mode" onclick="setMode('cook')">è‡ªç‚Šã™ã‚‹</button>
        <button id="buy-btn" class="mode-btn" onclick="setMode('buy')">è²·ã£ã¦ãã‚‹</button>
        <button id="out-btn" class="mode-btn" onclick="setMode('out')">å¤–é£Ÿã™ã‚‹</button>
    </div>

    <div id="slot-display">ğŸ³</div>
    <button id="start-btn" class="btn btn-action" onclick="startSlot()">ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’æ±ºã‚ã‚‹ï¼</button>
    <p id="hint">ä»Šå¤œã®æ°—åˆ†ã‚’é¸ã‚“ã§ã‚¹ã‚¿ãƒ¼ãƒˆï¼</p>

    <div id="result-area">
        <h2 id="food-result" style="margin: 0 0 10px; font-size: 28px; color: #f39c12;"></h2>
        <p id="food-desc" style="font-size: 14px; color: #555; margin-bottom: 20px;"></p>
        
        <a id="action-link" class="btn btn-search" target="_blank">ãƒ¬ã‚·ãƒ”ã‚’æ¤œç´¢</a>
        <a id="rakuten-link" class="btn btn-rakuten" target="_blank" rel="nofollow sponsored noopener">æ¥½å¤©ã§æ¢ã™</a>
        
        <button class="btn btn-retry" onclick="reset()">ã‚‚ã†ã„ã¡ã©æ±ºã‚ã‚‹</button>
    </div>

    <br>
    <a href="index.html" class="btn-back">ã­ã“ãŸã‚¹ã‚¿ã‚¸ã‚ªã¸æˆ»ã‚‹</a>
</div>

<script>
    const RAKUTEN_AFID = "51366796.8818598a.51366797.ddbb51d0"; 

    let currentMode = 'cook';
    const emojis = ["ğŸ³", "ğŸ±", "ğŸ•", "ğŸœ", "ğŸ›", "ğŸ¥˜", "ğŸ–", "ğŸ¥—"];
    
    const menuData = {
        cook: [
            { name: "ãƒãƒ³ãƒãƒ¼ã‚°", keyword: "ãƒãƒ³ãƒãƒ¼ã‚°", desc: "ãµã£ãã‚‰ã‚¸ãƒ¥ãƒ¼ã‚·ãƒ¼ã«ç„¼ã„ã¡ã‚ƒãŠã†ï¼" },
            { name: "ç”Ÿå§œç„¼ã", keyword: "ç”Ÿå§œç„¼ã", desc: "ã”é£¯ãŒã™ã™ã‚€å®šç•ªãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼" },
            { name: "éº»å©†è±†è…", keyword: "éº»å©†è±†è…", desc: "ãƒ”ãƒªè¾›ã§ã‚¹ã‚¿ãƒŸãƒŠã‚¢ãƒƒãƒ—ï¼" },
            { name: "ãƒ‘ã‚¹ã‚¿", keyword: "ãƒ‘ã‚¹ã‚¿", desc: "å†·è”µåº«ã®ä½™ã‚Šç‰©ã§ãŠã—ã‚ƒã‚Œã«ã€‚" }
        ],
        buy: [
            { name: "ãŠæƒ£èœç››ã‚Šåˆã‚ã›", keyword: "ãŠæƒ£èœ", desc: "ã‚¹ãƒ¼ãƒ‘ãƒ¼ã®ç‰¹å£²å“ã‚’ç‹™ãˆï¼" },
            { name: "ãƒ‡ãƒªãƒãƒªãƒ¼ãƒ”ã‚¶", keyword: "ãƒ”ã‚¶", desc: "ãŸã¾ã«ã¯æ¥½ã—ã¦è´…æ²¢æ°—åˆ†ã€‚" },
            { name: "ãŠå¯¿å¸ãƒ‘ãƒƒã‚¯", keyword: "å¯¿å¸", desc: "ä»Šæ—¥ã‚‚ãŠç–²ã‚Œæ§˜ã€‚ã”è¤’ç¾å¯¿å¸ï¼" },
            { name: "å†·å‡é¤ƒå­", keyword: "å†·å‡é¤ƒå­", desc: "ä»Šã®å†·å‡é£Ÿå“ã¯ãƒ—ãƒ­ã®å‘³ï¼" }
        ],
        out: [
            { name: "ç„¼è‚‰", keyword: "ç„¼è‚‰", desc: "å…ƒæ°—ãŒå‡ºã‚‹é­”æ³•ã®é£Ÿã¹ç‰©ï¼" },
            { name: "ãƒ©ãƒ¼ãƒ¡ãƒ³", keyword: "ãƒ©ãƒ¼ãƒ¡ãƒ³", desc: "ã“ã ã‚ã‚Šã®ä¸€æ¯ã‚’æ¢ã—ã«è¡Œã“ã†ã€‚" },
            { name: "ãƒ•ã‚¡ãƒŸãƒ¬ã‚¹", keyword: "ãƒ•ã‚¡ãƒŸãƒ¬ã‚¹", desc: "å¥½ããªã‚‚ã®ã‚’è‡ªç”±ã«é¸ã¼ã†ï¼" },
            { name: "ã‚¤ã‚¿ãƒªã‚¢ãƒ³", keyword: "ã‚¤ã‚¿ãƒªã‚¢ãƒ³", desc: "ãƒ¯ã‚¤ãƒ³ã¨ä¸€ç·’ã«ã‚†ã£ãã‚Šã¨ã€‚" }
        ]
    };

    function setMode(mode) {
        currentMode = mode;
        document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active-mode'));
        document.getElementById(mode + '-btn').classList.add('active-mode');
        reset();
    }

    function startSlot() {
        const display = document.getElementById('slot-display');
        const startBtn = document.getElementById('start-btn');
        startBtn.style.display = 'none';
        
        let count = 0;
        const timer = setInterval(() => {
            display.innerText = emojis[Math.floor(Math.random() * emojis.length)];
            count++;
            if (count > 15) {
                clearInterval(timer);
                showResult();
            }
        }, 100);
    }

    function showResult() {
        const list = menuData[currentMode];
        const res = list[Math.floor(Math.random() * list.length)];
        
        document.getElementById('slot-display').style.display = 'none';
        document.getElementById('hint').style.display = 'none';
        document.getElementById('result-area').style.display = 'block';
        
        document.getElementById('food-result').innerText = res.name;
        document.getElementById('food-desc').innerText = res.desc;

        const actionLink = document.getElementById('action-link');
        if (currentMode === 'out') {
            actionLink.innerText = "è¿‘ãã®ãŠåº—ã‚’æ¢ã™";
            actionLink.href = "https://www.google.com/maps/search/" + encodeURIComponent("è¿‘ãã®" + res.keyword);
        } else {
            actionLink.innerText = "ãƒ¬ã‚·ãƒ”ã‚’æ¤œç´¢";
            actionLink.href = "https://www.google.com/search?q=" + encodeURIComponent(res.keyword + " ãƒ¬ã‚·ãƒ”");
        }

        const rakutenKeyword = res.keyword + (currentMode === 'cook' ? " ææ–™" : " ãŠå–ã‚Šå¯„ã›");
        const rakutenBase = "https://hb.afl.rakuten.co.jp/hgc/" + RAKUTEN_AFID + "/?pc=https%3A%2F%2Fsearch.rakuten.co.jp%2Fsearch%2Fmall%2F" + encodeURIComponent(rakutenKeyword) + "%2F";
        
        const rakutenBtn = document.getElementById('rakuten-link');
        rakutenBtn.href = rakutenBase;
        rakutenBtn.innerText = res.name + " ã‚’æ¥½å¤©ã§æ¢ã™";
    }

    function reset() {
        document.getElementById('result-area').style.display = 'none';
        document.getElementById('slot-display').style.display = 'flex';
        document.getElementById('slot-display').innerText = "ğŸ³";
        document.getElementById('start-btn').style.display = 'inline-block';
        document.getElementById('hint').style.display = 'block';
    }
</script>

</body>
</html>
