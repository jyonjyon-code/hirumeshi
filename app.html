<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>ã²ã‚‹ã‚ã—ãˆã‚‰ã‚“ã§ | ã­ã“ãŸã‚¹ã‚¿ã‚¸ã‚ª</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body { font-family: 'Hiragino Kaku Gothic ProN', sans-serif; text-align: center; background: #f9f1e6; padding: 20px; color: #333; margin: 0; }
        .card { background: white; padding: 30px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); display: inline-block; width: 90%; max-width: 380px; border: 4px solid #d9534f; margin-top: 20px; box-sizing: border-box; }
        h2 { color: #d9534f; margin-bottom: 20px; font-size: 26px; letter-spacing: 2px; }
        #omikuji-box { font-size: 100px; cursor: pointer; margin: 20px 0; transition: transform 0.1s; user-select: none; }
        .shake { animation: shake 0.5s infinite; }
        @keyframes shake {
            0% { transform: rotate(0deg); } 25% { transform: rotate(8deg); }
            50% { transform: rotate(0deg); } 75% { transform: rotate(-8deg); }
            100% { transform: rotate(0deg); }
        }
        .mode-selector { margin-bottom: 25px; display: flex; justify-content: center; }
        .mode-btn { border: 2px solid #d9534f; padding: 10px 15px; cursor: pointer; background: white; border-radius: 25px; font-size: 14px; margin: 0 5px; color: #d9534f; font-weight: bold; flex: 1; transition: 0.3s; }
        .active-mode { background: #d9534f; color: white; }
        #result-area { display: none; background: #fffcf0; border: 2px dashed #f0ad4e; padding: 20px; border-radius: 15px; margin-top: 20px; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .btn { color: white; border: none; padding: 15px 25px; border-radius: 50px; cursor: pointer; font-weight: bold; text-decoration: none; display: inline-block; margin-top: 15px; font-size: 16px; width: 100%; box-sizing: border-box; }
        .btn-map { background: #4285F4; }
        .btn-rakuten { background: #bf0000; }
        .btn-retry { background: #f0ad4e; font-size: 14px; padding: 10px; }
        
        .lucky-item { color: #e67e22; font-weight: bold; font-size: 0.95em; margin-top: 15px; background: #fff; border-radius: 10px; padding: 5px; }
        #hint { font-size: 14px; color: #888; margin-top: 10px; }

        /* å…±é€šãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒªã‚¢ */
        .studio-nav { margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee; }
        .btn-back { background: #888; color: white; border: none; padding: 10px 20px; border-radius: 50px; cursor: pointer; font-weight: bold; text-decoration: none; display: inline-block; font-size: 14px; margin-bottom: 10px; width: 100%; box-sizing: border-box; }
        .btn-insta { 
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); 
            color: white; border: none; padding: 10px 20px; border-radius: 50px; cursor: pointer; font-weight: bold; text-decoration: none; display: flex; align-items: center; justify-content: center; gap: 8px; font-size: 14px; width: 100%; box-sizing: border-box;
        }
    </style>
</head>
<body>
    
<div class="card">
    <h2>ã²ã‚‹ã‚ã—ãˆã‚‰ã‚“ã§</h2>
    <div class="mode-selector">
        <button id="normal-btn" class="mode-btn active-mode" onclick="setMode('normal')">ã¿ã›ã‚’ãˆã‚‰ã¶</button>
        <button id="conveni-btn" class="mode-btn" onclick="setMode('conveni')">ã‚³ãƒ³ãƒ“ãƒ‹</button>
    </div>

    <div id="omikuji-box" onclick="draw()">ğŸ±</div>
    <p id="hint">ã‚¿ãƒƒãƒ—ã—ã¦ ãŠã¿ãã˜ã‚’ ãµã‚‹ï¼</p>

    <div id="result-area">
        <div id="luck" style="font-size: 22px; font-weight: bold; color: #d9534f;"></div>
        <h2 id="food" style="margin: 15px 0; font-size: 24px;"></h2>
        <p id="desc" style="font-size: 15px; color: #555; line-height: 1.6;"></p>
        <div class="lucky-item">âœ¨ãƒ©ãƒƒã‚­ãƒ¼è²·ã„è¶³ã—: <span id="add-on"></span></div>
        
        <a id="map-link" class="btn btn-map" target="_blank" rel="noopener noreferrer">ã¡ã‹ãã®åº—ã‚’ã•ãŒã™</a>
        
        <a id="rakuten-link" class="btn btn-rakuten" target="_blank" rel="nofollow sponsored noopener">æ¥½å¤©ã§ãŠå–ã‚Šå¯„ã›ã™ã‚‹</a>

        <button class="btn btn-retry" onclick="reset()">ã‚‚ã†ã„ã¡ã© ã²ã</button>
    </div>

    <div class="studio-nav">
        <a href="index.html" class="btn-back">ã­ã“ãŸã‚¹ã‚¿ã‚¸ã‚ªã¸æˆ»ã‚‹</a>
        <a href="https://www.instagram.com/necotastudio" target="_blank" class="btn-insta">
            <i class="fa-brands fa-instagram"></i> å…¬å¼Instagram
        </a>
    </div>
</div>

<script>
    // æ¥½å¤©ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆIDã‚’ã‚»ãƒƒãƒˆ
    const RAKUTEN_AFID = "51366796.8818598a.51366797.ddbb51d0"; 

    let currentMode = 'normal';

    const normalMenus = [
        { luck: "å¤§å¤§å‰", food: "ç‰¹é¸ï¼åšåˆ‡ã‚Šã‚¹ãƒ†ãƒ¼ã‚­", keyword: "ã‚¹ãƒ†ãƒ¼ã‚­", desc: "è‡ªåˆ†ã¸ã®ã”è¤’ç¾ï¼åˆå¾Œã‚‚ç„¡æ•µã®ãƒ‘ãƒ¯ãƒ¼ã§ã™ã€‚", add: "ã‚¬ãƒ¼ãƒªãƒƒã‚¯ãƒ©ã‚¤ã‚¹" },
        { luck: "å¤§å¤§å‰", food: "å›ã‚‰ãªã„ãŠå¯¿å¸", keyword: "å¯¿å¸", desc: "æ—¬ã®ãƒã‚¿ã§è´…æ²¢ã«ã€‚è‡³ç¦ã®ã²ã¨ã¨ãã‚’ã€‚", add: "ã‚ãŠã•ã®å‘³å™Œæ±" },
        { luck: "å¤§å‰", food: "è‚‰æ±ã‚ãµã‚Œã‚‹ãƒãƒ³ãƒãƒ¼ã‚°", keyword: "ãƒãƒ³ãƒãƒ¼ã‚°", desc: "é‰„æ¿ã®ç†±ã€…ã‚’æ¥½ã—ã‚“ã§ï¼", add: "ç›®ç‰ç„¼ã" },
        { luck: "å¤§å‰", food: "æœ¬æ ¼ã‚¹ãƒ‘ã‚¤ã‚¹ã‚«ãƒ¬ãƒ¼", keyword: "ã‚«ãƒ¬ãƒ¼", desc: "äº”æ„Ÿã‚’åˆºæ¿€ã—ã¦åˆå¾Œã‚‚ã‚·ãƒ£ã‚­ãƒƒã¨ï¼", add: "ãƒŠãƒ³" },
        { luck: "å¤§å‰", food: "æšã’ãŸã¦å¤©ä¸¼", keyword: "å¤©ä¸¼", desc: "å¤§ããªã‚¨ãƒ“ãŒé‹æ°—ã‚’ä¸Šã’ã¾ã™ã€‚", add: "å°ã†ã©ã‚“" },
        { luck: "ä¸­å‰", food: "æ¿ƒåšã“ã£ã¦ã‚Šãƒ©ãƒ¼ãƒ¡ãƒ³", keyword: "ãƒ©ãƒ¼ãƒ¡ãƒ³", desc: "ã‚¹ãƒ¼ãƒ—ãŒä½“ã«æŸ“ã¿æ¸¡ã‚‹ä¸€æ¯ã€‚", add: "å‘³ä»˜ã‘ç‰å­" },
        { luck: "ä¸­å‰", food: "ã¨ã‚ã¨ã‚è¦ªå­ä¸¼", keyword: "è¦ªå­ä¸¼", desc: "å‡ºæ±ã®æ—¨å‘³ã§ãƒ›ãƒƒã¨ã™ã‚‹æ™‚é–“ã‚’ã€‚", add: "ãŠæ¼¬ç‰©" },
        { luck: "ä¸­å‰", food: "ãƒ‘ãƒ©ãƒ‘ãƒ©é»„é‡‘ãƒãƒ£ãƒ¼ãƒãƒ³", keyword: "ãƒãƒ£ãƒ¼ãƒãƒ³", desc: "å¼·ç«ã§ç‚’ã‚ãŸãƒ—ãƒ­ã®å‘³ã‚’ã€‚", add: "ç„¼ãé¤ƒå­" },
        { luck: "ä¸­å‰", food: "æœ¬æ ¼ã‚¬ãƒ‘ã‚ªãƒ©ã‚¤ã‚¹", keyword: "ã‚¬ãƒ‘ã‚ªãƒ©ã‚¤ã‚¹", desc: "ãƒã‚¸ãƒ«ã®é¦™ã‚ŠãŒé£Ÿæ¬²ã‚’ããã‚Šã¾ã™ã€‚", add: "ç›®ç‰ç„¼ãè¿½åŠ " },
        { luck: "å‰", food: "ã‚¸ãƒ¥ãƒ¼ã‚·ãƒ¼å”æšã’å®šé£Ÿ", keyword: "å”æšã’", desc: "æšã’ãŸã¦ã«ãƒ¬ãƒ¢ãƒ³ã‚’æ¾ã£ã¦ï¼", add: "ãƒãƒ†ãƒˆã‚µãƒ©ãƒ€" },
        { luck: "å‰", food: "ç”Ÿãƒ‘ã‚¹ã‚¿ã®ãƒœãƒ­ãƒãƒ¼ã‚¼", keyword: "ãƒœãƒ­ãƒãƒ¼ã‚¼", desc: "ãƒ¢ãƒãƒ¢ãƒé£Ÿæ„ŸãŒã‚¯ã‚»ã«ãªã‚Šã¾ã™ã€‚", add: "ãƒã‚²ãƒƒãƒˆ" },
        { luck: "æœ«å‰", food: "ã‚µãƒƒãƒ‘ãƒªå†·ã‚„ã—ã†ã©ã‚“", keyword: "ã†ã©ã‚“", desc: "ã‚³ã‚·ã®ã‚ã‚‹éººã§è»½ã‚„ã‹ã«ã€‚", add: "ã¡ãã‚å¤©" },
        { luck: "æœ«å‰", food: "å…·ã ãã•ã‚“ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒ", keyword: "ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒ", desc: "ç‰‡æ‰‹ã§é£Ÿã¹ã‚‰ã‚Œã‚‹ã€åˆå¾Œã¸ã®å‘³æ–¹ã€‚", add: "é‡èœã‚¹ãƒ¼ãƒ—" }
    ];

    const conveniMenus = [
        { luck: "å¤§å¤§å‰", food: "é«˜ç´šå¹•ã®å†… ï¼† ãƒ‡ã‚¶ãƒ¼ãƒˆ", keyword: "ãŠå–ã‚Šå¯„ã› ã‚¹ã‚¤ãƒ¼ãƒ„", desc: "ã‚³ãƒ³ãƒ“ãƒ‹ç•Œã®ç‹æ—ã®ã‚ˆã†ãªã‚»ãƒƒãƒˆã€‚", add: "æŒ½ããŸã¦ã‚³ãƒ¼ãƒ’ãƒ¼" },
        { luck: "å¤§å‰", food: "ã‚«ãƒ„ã‚«ãƒ¬ãƒ¼", keyword: "ãƒ¬ãƒˆãƒ«ãƒˆ ã‚«ãƒ„ã‚«ãƒ¬ãƒ¼", desc: "å‹è² ã®æ—¥ã¯ã‚«ãƒ„ã§æ±ºã¾ã‚Šï¼", add: "é£²ã‚€ãƒ¨ãƒ¼ã‚°ãƒ«ãƒˆ" },
        { luck: "ä¸­å‰", food: "æ˜å¤ªã‚¯ãƒªãƒ¼ãƒ ãƒ‘ã‚¹ã‚¿", keyword: "æ˜å¤ªãƒ‘ã‚¹ã‚¿ã‚½ãƒ¼ã‚¹", desc: "æ¿ƒåšã•ã¨æº€è¶³æ„Ÿã‚’ä¸¡ç«‹ï¼", add: "ã‚µãƒ©ãƒ€ãƒã‚­ãƒ³" },
        { luck: "å‰", food: "ãŠã«ãã‚Šã¨ã‚«ãƒƒãƒ—å‘³å™Œæ±", keyword: "é«˜ç´š å‘³å™Œæ± ã‚»ãƒƒãƒˆ", desc: "ã‚·ãƒ³ãƒ—ãƒ«ã‚¤ã‚ºãƒ™ã‚¹ãƒˆï¼", add: "åŠç†Ÿã‚†ã§åµ" },
        { luck: "æœ«å‰", food: "æ–°ä½œã‚«ãƒƒãƒ—ãƒŒãƒ¼ãƒ‰ãƒ«", keyword: "ã‚«ãƒƒãƒ—ãƒ©ãƒ¼ãƒ¡ãƒ³ è©°ã‚åˆã‚ã›", desc: "æ–°å•†å“ã¯ã¨ã‚Šã‚ãˆãšè©¦ã™ã®ãŒå‰ï¼", add: "é£Ÿå¾Œã®ã‚¢ã‚¤ã‚¹" }
    ];

    function setMode(mode) {
        currentMode = mode;
        document.getElementById('normal-btn').classList.toggle('active-mode', mode === 'normal');
        document.getElementById('conveni-btn').classList.toggle('active-mode', mode === 'conveni');
        reset();
    }

    function draw() {
        const box = document.getElementById('omikuji-box');
        box.classList.add('shake');
        document.getElementById('hint').innerText = "ã‚·ãƒ£ã‚«ã‚·ãƒ£ã‚«...";

        setTimeout(() => {
            box.classList.remove('shake');
            const list = currentMode === 'normal' ? normalMenus : conveniMenus;
            const res = list[Math.floor(Math.random() * list.length)];
            
            document.getElementById('luck').innerText = `ã€${res.luck}ã€‘`;
            document.getElementById('food').innerText = res.food;
            document.getElementById('desc').innerText = res.desc;
            document.getElementById('add-on').innerText = res.add;
            
            // Googleãƒãƒƒãƒ—
            const mapKeyword = currentMode === 'conveni' ? "è¿‘ãã®ã‚³ãƒ³ãƒ“ãƒ‹" : "è¿‘ãã®" + res.keyword;
            document.getElementById('map-link').href = "https://www.google.com/maps/search/" + encodeURIComponent(mapKeyword);
            
            // æ¥½å¤©ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆ
            const rakutenKeyword = res.keyword + (currentMode === 'normal' ? " ãŠå–ã‚Šå¯„ã›" : "");
            const rakutenBase = "https://hb.afl.rakuten.co.jp/hgc/" + RAKUTEN_AFID + "/?pc=https%3A%2F%2Fsearch.rakuten.co.jp%2Fsearch%2Fmall%2F" + encodeURIComponent(rakutenKeyword) + "%2F";
            
            document.getElementById('rakuten-link').href = rakutenBase;
            document.getElementById('rakuten-link').innerText = res.food + " ã‚’æ¥½å¤©ã§æ¢ã™";
            
            document.getElementById('result-area').style.display = 'block';
            box.style.display = 'none';
            document.getElementById('hint').style.display = 'none';
        }, 800);
    }

    function reset() {
        document.getElementById('result-area').style.display = 'none';
        document.getElementById('omikuji-box').style.display = 'block';
        document.getElementById('omikuji-box').innerText = currentMode === 'normal' ? "ğŸ±" : "ğŸª";
        document.getElementById('hint').style.display = 'block';
        document.getElementById('hint').innerText = "ã‚¿ãƒƒãƒ—ã—ã¦ ãŠã¿ãã˜ã‚’ ãµã‚‹ï¼";
    }
</script>

</body>
</html>
