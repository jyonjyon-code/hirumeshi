<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãã¿ã¯ä»Šæ—¥ã„ã¡ã”ã‚’é£Ÿã¹ãŸã‹ | ä»Šæ—¥ã‚¤ãƒ</title>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Zen Maru Gothic', sans-serif; text-align: center; background: #fff5f6; padding: 20px; color: #4a1a1a; margin: 0; }
        .card { background: white; padding: 25px; border-radius: 30px; box-shadow: 0 10px 30px rgba(255,100,120,0.15); display: inline-block; width: 95%; max-width: 400px; border: 4px solid #ff4d6d; box-sizing: border-box; }
        
        .main-title { color: #ff4d6d; font-size: 20px; margin-bottom: 5px; font-weight: 900; line-height: 1.4; }
        .sub-nickname { font-size: 28px; color: #ff4d6d; margin-bottom: 20px; display: block; font-weight: 900; background: #fff0f3; border-radius: 10px; padding: 5px; }
        
        .counter-group { background: #fffcfc; border-radius: 20px; padding: 15px; margin-bottom: 10px; border: 1px solid #ffe5e9; }
        .item-row { display: flex; align-items: center; justify-content: space-between; margin: 15px 0; padding-bottom: 10px; border-bottom: 1px dashed #ffe5e9; }
        .item-row:last-child { border-bottom: none; }
        .item-label { font-size: 15px; font-weight: bold; flex-grow: 1; text-align: left; }
        
        .controls { display: flex; align-items: center; gap: 5px; }
        .btn-plus { width: 40px; height: 40px; border-radius: 50%; border: none; background: #ff4d6d; color: white; font-size: 20px; cursor: pointer; font-weight: bold; box-shadow: 0 3px 0 #c92a42; }
        .btn-minus { width: 32px; height: 32px; border-radius: 50%; border: 2px solid #ff4d6d; background: white; color: #ff4d6d; font-size: 18px; cursor: pointer; font-weight: bold; }
        .btn-clear { width: 32px; height: 32px; border-radius: 8px; border: 1px solid #ccc; background: #f8f8f8; color: #888; font-size: 11px; cursor: pointer; font-weight: bold; margin-left: 8px; }
        
        .count-num { font-size: 22px; font-weight: 900; min-width: 35px; color: #ff4d6d; text-align: center; }

        .btn-main { background: #ff4d6d; color: white; border: none; padding: 15px 30px; border-radius: 50px; cursor: pointer; font-weight: bold; font-size: 18px; width: 100%; margin-top: 15px; box-shadow: 0 4px 0 #c92a42; }
        .btn-main:active { transform: translateY(2px); box-shadow: 0 2px 0 #c92a42; }
        
        .btn-nav { display: block; margin-top: 20px; color: #ff4d6d; text-decoration: none; font-size: 14px; font-weight: bold; border: 2px solid #ff4d6d; padding: 10px; border-radius: 15px; background: white; }
        .btn-nav:hover { background: #fff0f3; }
        
        #judgment-area { display: none; margin-top: 20px; padding: 20px; background: #fffbf0; border-radius: 20px; border: 2px dashed #ff4d6d; animation: pop 0.4s; }
        @keyframes pop { from { transform: scale(0.9); } to { transform: scale(1); } }
        .shogo { font-size: 22px; font-weight: 900; color: #ff4d6d; }
        .campaign-banner { background: #ff4d6d; color: white; font-size: 11px; padding: 3px 10px; border-radius: 10px; margin-bottom: 10px; display: none; }
    </style>
</head>
<body>
<div class="card">
    <div class="main-title">ãã¿ã¯ä»Šæ—¥<br>ã„ã¡ã”ã‚’é£Ÿã¹ãŸã‹</div>
    <div class="sub-nickname">ä»Šæ—¥ã‚¤ãƒ</div>
    <div id="campaign-info" class="campaign-banner">ğŸ“ ä»Šæ—¥ã¯15æ—¥ï¼ã„ã¡ã”ãƒã‚¤ãƒ³ãƒˆ2å€ãƒ‡ãƒ¼ ğŸ“</div>

    <div class="counter-group">
        <div class="item-row">
            <div class="item-label">ğŸ“ ç”Ÿã®ã„ã¡ã”</div>
            <div class="controls">
                <button class="btn-minus" onclick="change('raw', -1)">âˆ’</button>
                <span class="count-num" id="raw-count">0</span>
                <button class="btn-plus" onclick="change('raw', 1)">ï¼‹</button>
                <button class="btn-clear" onclick="clearItem('raw')">C</button>
            </div>
        </div>
        <div class="item-row">
            <div class="item-label">ğŸ¥„ ã‚¸ãƒ£ãƒ (æ¯)</div>
            <div class="controls">
                <button class="btn-minus" onclick="change('jam', -1)">âˆ’</button>
                <span class="count-num" id="jam-count">0</span>
                <button class="btn-plus" onclick="change('jam', 1)">ï¼‹</button>
                <button class="btn-clear" onclick="clearItem('jam')">C</button>
            </div>
        </div>
        <div class="item-row">
            <div class="item-label">ğŸ° ã‚¹ã‚¤ãƒ¼ãƒ„ç³»</div>
            <div class="controls">
                <button class="btn-minus" onclick="change('sweet', -1)">âˆ’</button>
                <span class="count-num" id="sweet-count">0</span>
                <button class="btn-plus" onclick="change('sweet', 1)">ï¼‹</button>
                <button class="btn-clear" onclick="clearItem('sweet')">C</button>
            </div>
        </div>
    </div>

    <button class="btn-main" onclick="judge()">æ‘‚å–é‡ã‚’å ±å‘Šã™ã‚‹</button>

    <div id="judgment-area">
        <div class="shogo" id="shogo-text"></div>
        <p id="comment-text" style="font-size:14px; color:#7a4a4a;"></p>
    </div>

    <a href="ichigo_log.html" class="btn-nav">ğŸ—“ï¸ å±¥æ­´ãƒ»ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’è¦‹ã‚‹</a>
    <br>
    <a href="index.html" style="color:#888; font-size:12px; text-decoration:none;">ã­ã“ãŸã‚¹ã‚¿ã‚¸ã‚ªã¸æˆ»ã‚‹</a>
</div>

<script>
    let counts = { raw: 0, jam: 0, sweet: 0 };
    window.onload = () => { if (new Date().getDate() === 15) document.getElementById('campaign-info').style.display = 'inline-block'; };

    function change(type, delta) { counts[type] = Math.max(0, counts[type] + delta); updateUI(); }
    function clearItem(type) { if(confirm("ã“ã®é …ç›®ã‚’0ã«æˆ»ã—ã¾ã™ã‹ï¼Ÿ")) { counts[type] = 0; updateUI(); } }
    function updateUI() { for(let k in counts) document.getElementById(k + '-count').innerText = counts[k]; }

    function judge() {
        const now = new Date();
        const fullDateKey = `${now.getFullYear()}-${now.getMonth()+1}-${now.getDate()}`;
        let total = (counts.raw * 1.0) + (counts.jam * 0.5) + (counts.sweet * 2.0);
        if (now.getDate() === 15) total *= 2;

        let shogo = total >= 10 ? "ã„ã¡ã”ã®åŒ–èº«" : total >= 5 ? "ã„ã¡ã”é¨å£«" : total >= 1 ? "ã„ã¡ã”æ„›å¥½å®¶" : "ã„ã¡ã”è¦‹ç¿’ã„";
        document.getElementById('shogo-text').innerText = "ã€" + shogo + "ã€‘";
        document.getElementById('comment-text').innerText = "ä»Šæ—¥ã®æ‘‚å–é‡ã¯ " + total.toFixed(1) + " ğŸ“ ã§ã—ãŸï¼";
        document.getElementById('judgment-area').style.display = 'block';

        let history = JSON.parse(localStorage.getItem('ichigo-history') || '[]');
        history = history.filter(h => h.fullDateKey !== fullDateKey);
        history.unshift({ date: `${now.getMonth()+1}/${now.getDate()}`, fullDateKey, shogo, score: total });
        localStorage.setItem('ichigo-history', JSON.stringify(history));
    }
</script>
</body>
</html>
